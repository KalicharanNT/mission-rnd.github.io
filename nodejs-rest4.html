<html><head><title>Untitled document</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_nf8t1v92qgpf-7{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-8{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-5{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-6{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-3{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-4{list-style-type:none}.lst-kix_nf8t1v92qgpf-2>li:before{content:"\0025a0  "}.lst-kix_nf8t1v92qgpf-3>li:before{content:"\0025cf  "}.lst-kix_nf8t1v92qgpf-4>li:before{content:"\0025cb  "}.lst-kix_nf8t1v92qgpf-5>li:before{content:"\0025a0  "}.lst-kix_nf8t1v92qgpf-6>li:before{content:"\0025cf  "}ul.lst-kix_nf8t1v92qgpf-1{list-style-type:none}ul.lst-kix_nf8t1v92qgpf-2{list-style-type:none}.lst-kix_nf8t1v92qgpf-1>li:before{content:"\0025cb  "}ul.lst-kix_nf8t1v92qgpf-0{list-style-type:none}.lst-kix_nf8t1v92qgpf-0>li:before{content:"\0025cf  "}.lst-kix_nf8t1v92qgpf-7>li:before{content:"\0025cb  "}.lst-kix_nf8t1v92qgpf-8>li:before{content:"\0025a0  "}ol{margin:0;padding:0}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:444pt;border-top-color:#000000;border-bottom-style:solid}.c5{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;direction:ltr}.c0{margin-left:72pt;orphans:2;text-indent:-18pt;widows:2;direction:ltr}.c3{orphans:2;widows:2;direction:ltr}.c1{font-size:23pt;font-family:"Arial";font-weight:bold}.c13{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c19{border-collapse:collapse;margin-right:auto}.c8{color:inherit;text-decoration:inherit}.c6{padding-top:18pt;padding-bottom:4pt}.c17{padding-top:24pt;padding-bottom:6pt}.c4{font-size:17pt;font-family:"Arial"}.c7{font-size:7pt;font-family:"Times New Roman"}.c12{font-size:17pt;font-weight:bold}.c21{page-break-after:avoid;text-align:center}.c9{color:#1155cc;text-decoration:underline}.c10{margin-left:36pt;text-indent:-18pt}.c16{text-indent:-18pt}.c18{margin-left:108pt}.c14{height:0pt}.c20{height:11pt}.c15{font-size:7pt}.title{padding-top:0pt;color:#000000;font-size:21pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:13pt;padding-bottom:10pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:10pt;color:#000000;font-size:16pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:bold;font-size:13pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:8pt;color:#666666;font-weight:bold;font-size:12pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:8pt;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c13"><p class="c3 c21 title"><a name="h.tsl2cvx2s8dz"></a><span>&nbsp;NodeJS RESTful Services.</span></p><h1 class="c3 c17"><a name="h.g15g5qoxfjio"></a><span class="c1">Overview</span></h1><p class="c3"><span>You will learn how to develop RESTful services using node.js and MySQL.</span></p><h1 class="c3 c17"><a name="h.jximix3f8qhz"></a><span class="c1">PreRequisites</span></h1><p class="c3"><span>nodejs 101 (File Persistence) and nodejs 102 (MySQL Db Persistence).</span></p><h1 class="c3 c17"><a name="h.s1ep9jsbxynf"></a><span class="c1">Http Concepts</span></h1><p class="c3"><span>Http stands for HyperText Transfer Protocol.</span></p><p class="c3"><span>Hypertext is generally defined as any block of content or text that includes hyperlinks to other documents, images, or multimedia content as shown in the example below:</span></p><p class="c3"><span>&lt;p&gt;This html para is an example of hypertext. It is generally defined as any block of content or text that includes &lt;a href=&quot;wikipedia.com/hyperlinks&rdquo;&gt;hyperlinks&lt;/a&gt; to other &lt;a href=&quot;wikipedia.com/documents&quot;&gt;documents&lt;/a&gt;, images, or multimedia content.&lt;/p&gt;</span></p><p class="c3"><span>HTTP is a protocol for sending and receiving hypertext.</span></p><p class="c3"><span>It was Invented by Tim Berners Lee in 1989. First version of HTTP had only GET method that would request a html page from server.</span></p><h2 class="c3 c6"><a name="h.k8r4ywpck8hm"></a><span class="c4">Principles of Http Services</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Request/Response based - Client sends a Http request and gets back a response from the Server</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Both request/response have headers that indicate additional info about request/response.</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Any type of data can be sent over Http (html pages, images, blobs etc).</span></p><h2 class="c3 c6"><a name="h.d6l9mgu1qbbf"></a><span class="c4">Http Methods/Operations</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CONNECT - Connects to the server</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>GET - GET method is used to retrieve info from server for the given URL</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>POST - A POST request is used to send data to the server, for example, customer information, file upload, etc. using HTML forms. This is equivalent to CREATE operation.</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>PUT - &nbsp;Replaces all current representations of the target resource with the uploaded content. This is equivalent to UPDATE operation.</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>DELETE - Removes all current representations of the target resource given by a URI.</span></p><h2 class="c3 c6"><a name="h.s4qew03qfzn6"></a><span class="c4">Sample Http Request</span></h2><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 350.67px;"><img alt="image001.png" src="images/image01.png" style="width: 624.00px; height: 350.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c3 c6"><a name="h.6hk5cvyepzm0"></a><span class="c4">Sample Http Response</span></h2><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 350.67px;"><img alt="image002.png" src="images/image00.png" style="width: 624.00px; height: 350.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span>&nbsp;</span></p><h2 class="c3 c6"><a name="h.x26q15pkgl98"></a><span class="c4">Http Content Types</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Content can be of any type (text, html, xml, json, image, binary etc)</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Content-Type header indicates the type of content.</span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Common Types</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Application/xml - XML documents</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Application/json - JSON document</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Image - For images.</span></p><h2 class="c3 c6"><a name="h.27qqyusecpiv"></a><span class="c4">Http Status Codes</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Http Status codes</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>See</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.tutorialspoint.com%2Fhttp%2Fhttp_responses.htm&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF3fsjVosCC2LoQ5JuPVj3_g1uyeg">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.tutorialspoint.com%2Fhttp%2Fhttp_responses.htm&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF3fsjVosCC2LoQ5JuPVj3_g1uyeg">http://www.tutorialspoint.com/http/http_responses.htm</a></span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;Common Status Codes</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>200 - Success</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>4xx - Incorrect request from client.</span></p><p class="c3 c16 c18"><span>&bull;</span><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp;</span><span>Eg: 404 is resouce not found</span></p><p class="c3 c16 c18"><span>&bull;</span><span class="c7">&nbsp; &nbsp; &nbsp; &nbsp;</span><span>400 is a badly formed request sent by client</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>5xx - Server error - Eg: 500 is internal server error.</span></p><h2 class="c3 c6"><a name="h.7fh97nfepwzd"></a><span class="c4">RESTful Services</span></h2><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>A way of implementing web services using standard http operations</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Web services provide opertions to handle resources - Resources can be books (eg: flipkart.com), people (eg: facebook), messages (eg: twitter)</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Http request URI identifies the resource to perform the operation on</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>REST services can be implemented in any server technology (python, asp.net, java, nodejs)</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>REST services can be called by any client written in any language (java, .net, javascript)</span></p><h2 class="c3 c6"><a name="h.tdrg2mbbahqn"></a><span class="c4">Tools to View Http Requests</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>fiddler, postman, curl</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Fiddler video:</span><span><a class="c8" href="https://www.youtube.com/watch?v=gujBKFGwjd4">&nbsp;</a></span><span class="c9"><a class="c8" href="https://www.youtube.com/watch?v=gujBKFGwjd4">https://www.youtube.com/watch?v=gujBKFGwjd4</a></span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Fiddler download:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.telerik.com%2Fdownload%2Ffiddler&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFquCF3Wo77ml3KhTMX1ZNAulBoUg">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.telerik.com%2Fdownload%2Ffiddler&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFquCF3Wo77ml3KhTMX1ZNAulBoUg">http://www.telerik.com/download/fiddler</a></span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Curl: Download from:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Flatest.cgi%3Fcurl%3Dwin64-ssl-sspi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEpZiXtJR6oIE26xDJ_2XJg-Tk0Rg">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Flatest.cgi%3Fcurl%3Dwin64-ssl-sspi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEpZiXtJR6oIE26xDJ_2XJg-Tk0Rg">http://curl.haxx.se/latest.cgi?curl=win64-ssl-sspi</a></span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Curl tutorials:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Fdocs%2Fhttpscripting.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHSHJ9JlroGlkuFVhZVbWn8ql_2aA">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Fdocs%2Fhttpscripting.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHSHJ9JlroGlkuFVhZVbWn8ql_2aA">http://curl.haxx.se/docs/httpscripting.html</a></span></p><p class="c3"><span>&nbsp;</span></p><h1 class="c3 c17"><a name="h.qxs3pawqnu8k"></a><span class="c1">Project Setup</span></h1><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Fiddler download:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.telerik.com%2Fdownload%2Ffiddler&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFquCF3Wo77ml3KhTMX1ZNAulBoUg">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.telerik.com%2Fdownload%2Ffiddler&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFquCF3Wo77ml3KhTMX1ZNAulBoUg">http://www.telerik.com/download/fiddler</a></span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Curl: Download from:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Flatest.cgi%3Fcurl%3Dwin64-ssl-sspi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEpZiXtJR6oIE26xDJ_2XJg-Tk0Rg">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Flatest.cgi%3Fcurl%3Dwin64-ssl-sspi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEpZiXtJR6oIE26xDJ_2XJg-Tk0Rg">http://curl.haxx.se/latest.cgi?curl=win64-ssl-sspi</a></span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Install nodejs</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Install jasmine-node</span></p><p class="c0"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Install mysql</span></p><p class="c3"><span>&nbsp;</span></p><h2 class="c3 c6"><a name="h.k5dj9pc63739"></a><span class="c4">Try It Now</span></h2><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Download and start Fiddler. Try the exercises in the video:</span><span><a class="c8" href="https://www.youtube.com/watch?v=gujBKFGwjd4">&nbsp;</a></span><span class="c9"><a class="c8" href="https://www.youtube.com/watch?v=gujBKFGwjd4">https://www.youtube.com/watch?v=gujBKFGwjd4</a></span></p><p class="c3 c10"><span>&bull;</span><span class="c7">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Download and run curl. Try the exercises in the tutorial:</span><span><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Fdocs%2Fhttpscripting.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHSHJ9JlroGlkuFVhZVbWn8ql_2aA">&nbsp;</a></span><span class="c9"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fcurl.haxx.se%2Fdocs%2Fhttpscripting.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHSHJ9JlroGlkuFVhZVbWn8ql_2aA">http://curl.haxx.se/docs/httpscripting.html</a></span></p><p class="c3"><span>&nbsp;</span></p><h1 class="c3 c17"><a name="h.1s52267283da"></a><span class="c1">Simple Tutorial</span></h1><p class="c3"><span>In this tutorial, we will build a simple http server that will echo back the incoming request. You can see the full code for this tutorial in Tutorial.js file of the project git repo</span></p><p class="c3"><span>First, import the required http, queryparser modules.</span></p><a href="#" name="d05f21770b0b0330050e374ece27de61e779b9d1"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c19"><tbody><tr class="c14"><td class="c11" colspan="1" rowspan="1"><p class="c2"><span class="c5">var http = require(&#39;http&#39;);</span></p><p class="c2"><span class="c5">var querystring = require(&#39;querystring&#39;);</span></p><p class="c2"><span class="c5">var PORT = 3000;</span></p></td></tr></tbody></table><p class="c3"><span>&nbsp;</span></p><p class="c3"><span>Next, create an instance of the http server and make it listen on port 3000.</span></p><a href="#" name="2a87a635a9c95f5f40dc14f771e19bd096848782"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c19"><tbody><tr class="c14"><td class="c11" colspan="1" rowspan="1"><p class="c2"><span class="c5">var PORT = 3000;</span></p><p class="c2"><span class="c5">var server = http.createServer(handleRequest);</span></p><p class="c2"><span class="c5">function handleRequest(request, response){</span></p><p class="c2"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response.end(&ldquo;Hello World&rdquo;);</span></p><p class="c2"><span class="c5">}</span></p><p class="c2"><span class="c5">server.listen(PORT, function(){</span></p><p class="c2"><span class="c5">&nbsp;console.log(&quot;server listening on port &quot; + PORT);</span></p><p class="c2"><span class="c5">});</span></p><p class="c2"><span class="c5">&nbsp;</span></p></td></tr></tbody></table><p class="c3"><span>&nbsp;</span></p><p class="c3"><span>You can run the above code by doing node tutorial.js &ndash; The http server will listen on port 3000 and the handleRequest function will be called when any incoming request is returned. For now, the handleRequest method simply returns &ldquo;Hello World&rdquo;.</span></p><p class="c3"><span>Now, lets expand handleRequest to echo back the incoming request details (such as method type, url and request body). For this, we&rsquo;ve to add event listeners for the request &ldquo;data&rdquo; and &ldquo;end&rdquo; events as described</span><span><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fnodejs.org%2Fapi%2Fstream.html%23stream_class_stream_readable&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFNyD0kyvcyMjuCidmqPCSRVVVn7g">&nbsp;</a></span><span class="c9"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fnodejs.org%2Fapi%2Fstream.html%23stream_class_stream_readable&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFNyD0kyvcyMjuCidmqPCSRVVVn7g">here</a></span><span>.</span></p><p class="c3"><span>We implement a listener for &lsquo;data&rsquo; event where we add the latest message chunk received to a string buffer. When the &lsquo;end&rsquo; event is received, the bodyStr variable will have the full content of the incoming http request.</span></p><p class="c3"><span>&nbsp;</span></p><a href="#" name="33f2f6d866423f2e5fdcecb829c2409a42d82803"></a><a href="#" name="2"></a><table cellpadding="0" cellspacing="0" class="c19"><tbody><tr class="c14"><td class="c11" colspan="1" rowspan="1"><p class="c2"><span class="c5">function handleRequest(request, response){</span></p><p class="c2"><span class="c5">&nbsp;var bodyStr = &quot;&quot;;</span></p><p class="c2"><span class="c5">&nbsp;request.on(&#39;data&#39;,function(chunk){</span></p><p class="c2"><span class="c5">&nbsp; console.log(&quot;recvd &quot; + chunk.toString())</span></p><p class="c2"><span class="c5">&nbsp; bodyStr += chunk.toString();</span></p><p class="c2"><span class="c5">&nbsp;});</span></p><p class="c2"><span class="c5">&nbsp;request.on(&#39;end&#39;, function() {</span></p><p class="c2"><span class="c5">&nbsp; var str = &quot;Received &quot; + request.method + &quot; request for &quot; + request.url + &quot; body: &quot; + bodyStr;</span></p><p class="c2"><span class="c5">&nbsp; console.log(str);</span></p><p class="c2"><span class="c5">&nbsp; response.end(JSON.stringify(str));</span></p><p class="c2"><span class="c5">&nbsp;});</span></p><p class="c2"><span class="c5">}</span></p></td></tr></tbody></table><p class="c3"><span>&nbsp;</span></p><p class="c3"><span>You can look at the final code in Tutorial.js. You can also run the basic tests by running jasmine-node spec\tests\TutorialSpec.js</span></p><h1 class="c3 c17"><a name="h.5ezdyixd51xf"></a><span class="c1">Project Activities</span></h1><p class="c3"><span>&nbsp;</span></p><h2 class="c3 c6"><a name="h.7fi8mc51ifv5"></a><span class="c4">CalculatorHttpService</span></h2><p class="c3"><span>In this activity, you will implement a REST service that supports the following operations:</span></p><p class="c3 c16"><span>1)</span><span class="c15">&nbsp; &nbsp; &nbsp; </span><span>GET /calculator/sum?op1=&lt;num&gt;&amp;op2=&lt;num&gt; should return the sum of op1 and op2 in the JSON response.</span></p><p class="c3 c16"><span>2)</span><span class="c15">&nbsp; &nbsp; &nbsp; </span><span>POST /calculator/sum where the request body is the following JSON document: {&ldquo;op1&rdquo;:&rdquo;num&rdquo;,&rdquo;op2&rdquo;:&rdquo;num&rdquo;} and returns the sum of op1 and op2 in the response.</span></p><p class="c3"><span>You will write your code into CalculatorHttpService.js.</span></p><h2 class="c3 c6"><a name="h.q2aio4wxx1n4"></a><span class="c4">ContactsHttpService</span></h2><p class="c3"><span>In this activity, you will implement a REST service to manage contacts. The rest service will store/retrieve contacts in a mysql database. The rest service will implement the following operations:</span></p><p class="c3 c16"><span>1)</span><span class="c15">&nbsp; &nbsp; &nbsp; </span><span>GET /contacts/id &ndash; This will read the specified contact from the mysql database and return it in the response.</span></p><p class="c3 c16"><span>2)</span><span class="c15">&nbsp; &nbsp; &nbsp; </span><span>POST /contacts &ndash; This will accept a JSON payload, create the contact in mysql database and return id in the response. Format of JSON request body is: {&ldquo;firstName&rdquo;:&rdquo;&rdquo;,&rdquo;lastName&rdquo;:&rdquo;&rdquo;,&rdquo;phone&rdquo;:&rdquo;&rdquo;}</span></p><p class="c3 c16"><span>3)</span><span class="c15">&nbsp; &nbsp; &nbsp; </span><span>PUT /contacts/id &ndash; This will update the specified contact&rsquo;s details with the details in the JSON payload.</span></p><p class="c3"><span>You will write your code into ContactsHttpService.js</span></p><h1 class="c3 c17"><a name="h.gk2lauo4r60h"></a><span class="c1">References</span></h1><p class="c3 c20"><span></span></p><p class="c3 c20"><span></span></p></body></html>